<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>My Events</title>
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
    <style>
        #calendar {
            width: 100%;
            border-collapse: collapse;
        }
        
        #calendar td, #calendar th {
            border: 1px solid #ddd;
            padding: 8px;
        }

        #calendar th {
            padding-top: 12px;
            padding-bottom: 12px;
            text-align: center;
            background-color: #f2f2f2;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <nav class="nav nav-pills">
                <a class="nav-item nav-link" href="index.html">Contact Form</a>
                <a class="nav-item nav-link" href="contacts-list.html">Connections</a>
                <a class="nav-item nav-link active" href="#" id="myEventsBtn">My Events</a>
            </nav>
        </header>
        
        <div class="mt-4">
            <table id="calendar">
                <thead>
                    <tr>
                        <th>Sunday</th>
                        <th>Monday</th>
                        <th>Tuesday</th>
                        <th>Wednesday</th>
                        <th>Thursday</th>
                        <th>Friday</th>
                        <th>Saturday</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Calendar content will be inserted here -->
                </tbody>
            </table>
        </div>
    </div>

    <script>
        function daysInMonth(month, year) {
            return new Date(year, month, 0).getDate();
        }

        function generateCalendar() {
            const today = new Date();
            const currentMonth = today.getMonth();
            const currentYear = today.getFullYear();

            let firstDay = (new Date(currentYear, currentMonth)).getDay();
            const daysOfMonth = daysInMonth(currentMonth + 1, currentYear);

            let date = 1;
            const tbody = document.querySelector("#calendar tbody");

            // Clear previous rows
            tbody.innerHTML = "";

            for (let i = 0; i < 6; i++) {
                const row = document.createElement("tr");

                for (let j = 0; j < 7; j++) {
                    if (i === 0 && j < firstDay) {
                        const cell = document.createElement("td");
                        const cellText = document.createTextNode("");
                        cell.appendChild(cellText);
                        row.appendChild(cell);
                    } else if (date > daysOfMonth) {
                        break;
                    } else {
                        const cell = document.createElement("td");
                        const cellText = document.createTextNode(date);
                        if (date === today.getDate() && currentYear === today.getFullYear() && currentMonth === today.getMonth()) {
                            cell.classList.add("bg-primary", "text-white"); // Highlight today's date
                        }
                        cell.appendChild(cellText);
                        row.appendChild(cell);
                        date++;
                    }
                }

                tbody.appendChild(row); // Appending each row into calendar body.
            }
        }

        // Call the function to generate the current month's calendar
        generateCalendar();
    </script>
</body>

</html>
